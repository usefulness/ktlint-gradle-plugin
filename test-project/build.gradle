import org.jetbrains.kotlin.gradle.tasks.KotlinCompilationTask

plugins {
    id("org.jetbrains.kotlin.jvm") version "2.3.0"
    id("io.github.usefulness.ktlint-gradle-plugin")
}

ktlint {
    reporters = ["plain"]
}
kotlin {
    jvmToolchain(JavaVersion.current().majorVersion.toInteger())
}

def targetJavaVersion = JavaVersion.VERSION_17
tasks.withType(JavaCompile).configureEach {
    options.release.set(targetJavaVersion.majorVersion.toInteger())
}
tasks.withType(KotlinCompilationTask).configureEach {
    kotlinOptions.jvmTarget = targetJavaVersion
}
